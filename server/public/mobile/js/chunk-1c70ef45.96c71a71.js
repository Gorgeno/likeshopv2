(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c70ef45"],{"32a2":function(t,e,n){t.exports=n.p+"img/shop_logo.6c42afc7.png"},"399b":function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}));var s={ALL:"all",PAY:"pay",DELIVERY:"delivery",FINISH:"finish",CLOSE:"close"},i={wechat:1,balance:3},a={REGISTER:"ZCYZ",FINDPWD:"ZHMM",LOGIN:"YZMDL",CHANGE_MOBILE:"YZMDL"},o={ALL:"all",RUNNING:"running",SUCCESS:"success",FAIL:"fail"},c={NORMAL:0,SUCCESS:1,FAIL:2}},"3a89":function(t,e,n){},"3fca":function(t,e,n){"use strict";var s=n("3a89"),i=n.n(s);i.a},"6f4f":function(t,e,n){t.exports=n.p+"img/pay_wechat.dfdad8a9.png"},dc3f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[t._m(0),0==t.loginType?n("div",{staticClass:"login-input-container"},[n("div",{staticClass:"login-input-item row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],attrs:{name:"mobile",placeholder:"请输入手机号码"},domProps:{value:t.telephone},on:{input:function(e){e.target.composing||(t.telephone=e.target.value)}}})]),n("div",{staticClass:"row login-input-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"pwd",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("div",{staticClass:"line"}),n("div",{staticClass:"forget-pwd nr row",on:{click:function(e){return t.goPage("forgetPwd")}}},[n("span",[t._v(" 忘记密码 ")])])])]):t._e(),1==t.loginType?n("div",{staticClass:"login-input-container"},[n("div",{staticClass:"login-input-item row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],attrs:{name:"mobile",placeholder:"请输入手机号码"},domProps:{value:t.telephone},on:{input:function(e){e.target.composing||(t.telephone=e.target.value)}}})]),n("div",{staticClass:"row login-input-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.smsCode,expression:"smsCode"}],attrs:{name:"code",placeholder:"请输入验证码"},domProps:{value:t.smsCode},on:{input:function(e){e.target.composing||(t.smsCode=e.target.value)}}}),n("div",{staticClass:"btn primary sm row-center br60",on:{click:t.$sendSms}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.canSendSms,expression:"canSendSms"}]},[t._v("获取验证码")]),n("van-count-down",{directives:[{name:"show",rawName:"v-show",value:!t.canSendSms,expression:"!canSendSms"}],ref:"countDown",attrs:{"auto-start":!1,time:t.time,format:" ss 秒"},on:{finish:t.countDownFinish},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"seconds"},[t._v(t._s(e.seconds)+"秒")])]}}],null,!1,4246151370)})],1)])]):t._e(),n("button",{staticClass:"primary-btn row-center br60",staticStyle:{"margin-top":"40px"},attrs:{type:"submit"},on:{click:t.login}},[t._v(" 登录 ")]),n("div",{staticClass:"row-between",staticStyle:{"margin-top":"25px"}},[n("div",{staticClass:"lighter nr",on:{click:t.changeLoginType}},[t._v(" "+t._s(0==this.loginType?"短信验证码登录":"账号密码登录"))]),n("div",{staticClass:"lighter nr",on:{click:function(e){return t.goPage("register")}}},[t._v("注册账号")])]),n("div",{staticClass:"other-way-contain column-center"},[t._m(1),n("div",{staticClass:"login-way-contain column-center",on:{click:function(e){return t.$weichatLogin()}}},[t._m(2),n("div",{staticClass:"mt5"},[t._v(" 微信登录 ")])])]),n("div",{staticClass:"row-center"},[n("div",{staticClass:"server-explain row-center"},[t._v(" 登录即代表您已同意likeMall"),n("span",{staticClass:"primary",on:{click:function(e){return t.goPage("serverExplain",0)}}},[t._v("服务协议")]),t._v("和"),n("span",{staticClass:"primary",on:{click:function(e){return t.goPage("serverExplain",1)}}},[t._v("隐私协议")])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-logo row-center"},[s("img",{attrs:{src:n("32a2")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"row-line"}),n("div",{staticClass:"sm ml10 mr10 muted"},[t._v("其他登录方式")]),n("div",{staticClass:"row-line"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img-wechat"},[s("img",{attrs:{src:n("6f4f")}})])}],a=(n("ac1f"),n("5319"),n("b562")),o=(n("5f01"),n("c24f")),c=n("399b"),r={ACCOUNT_LOGIN:0,SMS_CODE_LOGIN:1},l={name:"login",data:function(){return{loginType:0,telephone:"",password:"",smsCode:"",time:6e4,canSendSms:!0}},methods:{goPage:function(t,e){e?this.$router.push({name:t,query:{type:e}}):this.$router.push({name:t})},changeLoginType:function(){this.loginType==r.ACCOUNT_LOGIN?this.loginType=r.SMS_CODE_LOGIN:this.loginType==r.SMS_CODE_LOGIN&&(this.loginType=r.ACCOUNT_LOGIN)},login:function(){this.loginType==r.ACCOUNT_LOGIN?this.$pwdLogin():this.$smsCodeLogin()},$weichatLogin:function(){Object(a["d"])({url:window.location.href}).then((function(t){window.location.href=t.data.url}))},$pwdLogin:function(){var t=this,e=this.telephone,n=this.password;this.client;e?n?Object(a["k"])({account:e,password:n}).then((function(e){if(1==e.code){t.$store.commit("LOGIN",e.data);var n=t.$ls.get("back_path")||"/";t.$ls.remove("back_path"),t.$toast({message:"登录成功"}),t.$router.replace({path:n}),Object(o["C"])({code:t.$ls.get("INVITE_CODE")})}})):this.$toast({message:"请填写密码"}):this.$toast({message:"请填写手机号"})},$smsCodeLogin:function(){var t=this,e=this.telephone,n=this.smsCode;this.client;e?n?Object(a["n"])({account:e,code:n}).then((function(e){if(1==e.code){t.$store.commit("LOGIN",e.data);var n=t.$ls.get("back_path")||"/";t.$ls.remove("back_path"),t.$router.replace({path:n}),Object(o["C"])({code:t.$ls.get("INVITE_CODE")})}})):this.$toast({message:"请填写手机验证码"}):this.$toast({message:"请填写手机号"})},countDownFinish:function(){this.$refs.countDown.reset(),this.canSendSms=!0},$sendSms:function(){var t=this;0!=this.canSendSms&&(this.telephone?Object(a["m"])({mobile:this.telephone,key:c["b"].LOGIN}).then((function(e){1==e.code&&(t.canSendSms=!1,t.$refs.countDown.start(),t.$toast(e.msg))})):this.$toast("请填写手机号信息～"))}},created:function(){}},u=l,d=(n("3fca"),n("2877")),p=Object(d["a"])(u,s,i,!1,null,"05a18db6",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-1c70ef45.96c71a71.js.map