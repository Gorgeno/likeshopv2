(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7e0f24"],{1149:function(t,e,s){t.exports=s.p+"img/pay_address.bca0ca89.png"},"2df3":function(t,e,s){},"358a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-order"},[a("div",{staticClass:"confirm-con"},[a("div",{staticClass:"address-wrap row contain",on:{click:t.onSelectAddress}},[a("img",{staticClass:"icon mr10",attrs:{src:s("1149")}}),a("div",{staticClass:"address"},[t.address.contact?a("div",[a("span",{staticClass:"name md mr10"},[t._v(t._s(t.address.contact))]),a("span",{staticClass:"phone md"},[t._v(t._s(t.address.telephone))]),a("div",{staticClass:"area sm mt10 lighter"},[t._v(" "+t._s(t.address.province)+" "+t._s(t.address.city)+" "+t._s(t.address.district)+" "+t._s(t.address.address)+" ")])]):a("div",{staticClass:"black md"},[t._v(" 设置收货地址 ")])]),a("img",{staticClass:"icon-sm ml10",attrs:{src:s("d5b1")}})]),a("div",{staticClass:"goods contain"},[a("order-goods",{attrs:{list:t.goodsLists}}),t._m(0),a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"textarea",rows:"1",autosize:{minHeight:30,maxHeight:80},label:"店铺留言",placeholder:"选填，请输入150字以内的文字留言"},model:{value:t.userRemark,callback:function(e){t.userRemark=e},expression:"userRemark"}})],1)],1),a("div",{staticClass:"price contain"},[a("div",{staticClass:"item row-between"},[a("div",[t._v("商品金额")]),a("div",[t._v("¥"+t._s(t.orderInfo.total_goods_price))])]),a("div",{staticClass:"item row-between"},[a("div",[t._v("运费")]),a("div",[t._v("¥"+t._s(t.orderInfo.shipping_price))])]),t.orderInfo.discount_amount?a("div",{staticClass:"item row-between"},[a("div",[t._v("优惠券")]),a("div",{staticClass:"primary"},[t._v("-¥"+t._s(t.orderInfo.discount_amount))])]):t._e(),t.orderInfo.integral_amount?a("div",{staticClass:"item row-between"},[a("div",[t._v("积分抵扣")]),a("div",{staticClass:"primary"},[t._v("-¥"+t._s(t.orderInfo.integral_amount))])]):t._e()]),a("div",{staticClass:"pay-way contain"},[a("div",{staticClass:"lighter title"},[t._v("支付方式")]),a("van-radio-group",{staticClass:"radio-group",attrs:{"checked-color":t.primaryColor},model:{value:t.payWay,callback:function(e){t.payWay=e},expression:"payWay"}},t._l(t.payWayArr,(function(e){return a("div",{key:e.type,staticClass:"item row-between",on:{click:function(s){t.payWay=e.type}}},[a("div",{staticClass:"row"},[a("img",{staticClass:"icon-lg mr10",attrs:{src:e.icon}}),a("div",{},[a("div",{staticClass:"balck bt10"},[t._v(t._s(e.name))]),a("div",{staticClass:"muted xs"},[t._v(" "+t._s(e.desc)+t._s(3==e.type?t.orderInfo.user_money:"")+" ")])])]),a("van-radio",{attrs:{name:e.type}})],1)})),0)],1)]),a("div",{staticClass:"footer bg-white row-between"},[a("div",{staticClass:"all-price lg row"},[a("span",[t._v("合计：")]),a("div",{staticClass:"primary row"},[t._v(" ￥ "),a("price-slice",{attrs:{price:t.orderInfo.order_amount}})],1)]),a("button",{staticClass:"btn br60 white",attrs:{size:"md","hover-class":"none"},on:{click:t.onSubmitOrder}},[t._v(" 提交订单 ")])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item row-between"},[s("div",[t._v("配送方式")]),s("div",[t._v("快递")])])}],i=(s("99af"),s("ac1f"),s("5319"),s("e17f"),s("2241")),n=(s("96cf"),s("1da1")),o=(s("18a0"),s("73f5")),c=s("b562"),d=s("6a99"),l=s("399b"),v=s("2f9f"),u={name:"confirmOrder",components:{OrderGoods:d["a"]},data:function(){return{address:{},orderInfo:{},userRemark:"",goodsLists:[],addressId:"",popActive:0,payWay:1,payWayArr:[{icon:s("6f4f"),name:"微信支付",type:l["e"].wechat,desc:"微信快捷支付"},{icon:s("7dfe"),name:"余额支付",type:l["e"].balance,desc:"可用余额："}],useIntegral:0}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.$route.query,a=s.goods,r=s.type,t.addressId=t.$ls.get("addressid"),t.$ls.remove("addressid"),a=JSON.parse(a)||[],t.confirmType=r||"",t.goods=a,t.$orderBuy();case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){this.$ls.remove("addressid")},methods:{showDialog:function(){var t=this.orderInfo,e=t.integral_config,s=t.integral_limit;i["a"].alert({title:"积分使用说明",messageAlign:"left",message:"·1积分可抵扣".concat(e,"元\n\n·单次扣减积分不能低于").concat(s,"积分"),confirmButtonColor:"#FF2C3C"}).then((function(){}))},onSelectAddress:function(){this.$router.push({name:"userAddress",query:{type:1}})},onSubmitOrder:function(){this.toast=this.$toast({type:"loading",message:"请稍等...",duration:0}),this.$orderBuy("submit")},$orderBuy:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",s=this.address,a=this.userRemark,r=this.useIntegral,i={action:e,goods:this.goods,use_integral:r};"info"==e?this.addressId&&(i.address_id=this.addressId):"submit"==e&&(i.remark=a,i.address_id=s.id,i.type=this.confirmType,i.pay_way=this.payWay),Object(o["q"])(i).then((function(s){if(1!=s.code)return t.toast&&t.toast.clear(),!1;if("info"==e){var a=s.data,r=a.address,i=a.goods_lists;return t.address=r,t.goodsLists=i,t.orderInfo=s.data,t.addressId=r.id,!1}if("submit"==e){var n=s.data,o=n.order_id,d=n.type;return t.tradeId=o,t.type=d,Object(c["j"])({from:d,order_id:o})}})).then((function(e){if(t.toast&&t.toast.clear(),1==e.code){var s=e.data;Object(v["a"])(s).then((function(e){t.$router.replace({name:"payResult",query:{id:t.tradeId,type:t.type}})})).catch((function(){t.$router.replace({name:"userOrder"})}))}else 10001==e.code&&t.$router.replace({name:"payResult",query:{id:t.tradeId,type:t.type}})}))}}},m=u,g=(s("8594"),s("2877")),b=Object(g["a"])(m,a,r,!1,null,"34151254",null);e["default"]=b.exports},"399b":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"b",(function(){return i})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return o}));var a={ALL:"all",PAY:"pay",DELIVERY:"delivery",FINISH:"finish",CLOSE:"close"},r={wechat:1,balance:3},i={REGISTER:"ZCYZ",FINDPWD:"ZHMM",LOGIN:"YZMDL",CHANGE_MOBILE:"BGSJHM"},n={ALL:"all",RUNNING:"running",SUCCESS:"success",FAIL:"fail"},o={NORMAL:0,SUCCESS:1,FAIL:2}},"6a99":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-goods bg-white"},t._l(t.list,(function(e){return s("div",{key:e.id,staticClass:"item-wrap",on:{click:function(s){t.link&&t.goPage("goodsDetail",{id:e.goods_id})}}},[s("div",{staticClass:"item row"},[s("div",{staticClass:"goods-img"},[s("van-image",{attrs:{width:"100%",radius:"5px",height:"100%",src:e.image_str||e.image}})],1),s("div",{staticClass:"goods-info ml10"},[s("div",{staticClass:"goods-name two-txt-cut mb5"},[t._v(" "+t._s(e.goods_name||e.name))]),s("div",{staticClass:"goods-spec xs muted mb10"},[t._v(t._s(e.spec_value_str))]),s("div",{staticClass:"row-between"},[s("div",{staticClass:"goods-price"},[s("div",{staticClass:"lg primary row"},[s("span",{staticClass:"sm"},[t._v("￥")]),s("div",{staticClass:"xl"},[s("price-slice",{attrs:{weight:500,price:e.goods_price}})],1)])]),s("div",{staticClass:"goods-num sm"},[t._v("x"+t._s(e.goods_num))])])])]),t.link&&e.comment_btn?s("div",{staticClass:"footer row"},[s("div",{staticStyle:{flex:"1"}}),s("div",{staticClass:"ml10"},[s("button",{staticClass:"plain br60",attrs:{size:"xs"},on:{click:function(s){return t.goPage("applyAfterSales",{item_id:e.item_id,order_id:e.order_id})}}},[t._v("申请退款")])])]):t._e()])})),0)},r=[],i=(s("a9e3"),{name:"OrderGoods",components:{},props:{list:{type:Array,default:function(){return[]}},link:{type:Boolean,default:!1},shopId:{type:Number}},methods:{goPage:function(t,e){this.$router.push({name:t,query:e})}}}),n=i,o=(s("7ee6"),s("2877")),c=Object(o["a"])(n,a,r,!1,null,"543b4763",null),d=c.exports;e["a"]=d},"6f4f":function(t,e,s){t.exports=s.p+"img/pay_wechat.dfdad8a9.png"},"7dfe":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABPlBMVEUAAAD/gAD/mQD/qgD/nwD/lQD/nQD/kgD/mQD/lg//mQ3/kgz/mwv/lQv/mQr/lwn/kgn/lQn/lAj/kwj/lg3/lQv/lwr/lA7/lA3/lQ3/lw3/lAv/lw7/lQ7/lA//lw7/lw7/lQ3/lQ//lg//lg7/lQ7/lg3/lQ3/lg39lQ79lg79lQ79lg39lg/9lQ79lQ79lQ79lg79lQ79lg7+lg7+lQ7+lQ/+lg/+lQ/+lQ7+lg/+lQ/+lg/+lg7+lQ7+lg7+lg/+lg/+lg7+lQ7+lg7+lQ7+lg7+lQ7+lg/+lQ/+lg/+lQ/+lg/+lQ/+lQ/+lg7+lg7+lg7+lg7+lg7+lg/+nB7+oy3+qTz+sEr+sEv+t1r+vWn+xHj/y4f/0Zb/2KX/3rP/3rT/5cP/69H/7NL/8uD/8uH/+O//+fD///9R2wdKAAAAVHRSTlMABAUGCAwNDg8RFBUXGBkbHB0fIScwMTc5OjtDR0hWWF1jZ2hwcXJzdYCBgoaIjpCRoKGouLm8wMHDzs/Q1dfY4eLm6Onq6+zu7/Dx8vP29/n6/P6Ay5x6AAAB+klEQVRIx5VW2ULCMBCMCiqXeJ8o3oqKKBRQVOqFdxUlRRGKWkDg/3/AprTSJmkb5gE2YaaQ7LC7AOBwhXbjKV4Qsqn4bsgFHDC2mXyBBrxwG0EbuvcgDwk8R30WdPeOAKl4igzS+JNZaImzCZK/8AhtcDOP81ffoC3yy2b+GnTEmpE/9+oseDX8qtEcZEBuVOcPnkAmZPS8RyAjIh2+/4FVcD+sCmLdnZ+2gvL/8hMtZYMiqn6BwW3FlsJoivryV1m1ikZfBfAUVNAzJW0hGRfdZHCmnToidR4qNpWwbj4Fp9yp2dHvSPCthl8oLGEO6Qdh7CYknVZCQRW/qEUiCSI6aU0JZHRikUzFIb5V6lxtGb19Eqk4BGliDyWjWWworz9k7tKAJ/ZElIwGngINPKD4Qk2GggrFHQ+4QG6bIRMCvjcBTzm0JpOphk2DRG+ChNHcqjU+EGooeWr0jgliuDWczhAGQ2bzVWUElImWGmFmyrtxezucgbOoYZYC9AcaKbALCn6LKmMl6NSZoSvig7IkSWWSf631iXXWurSuVb6+Izb+cZ9eXH3nLPwLb7d8TzOU++epHhvKEtay8g4tawVvcrO3dvzLGbKNjmes+acBWqMe2Lqj0++2ByxmAc8+bXTY89gNJxuceThJbgadBhp1/MkKAk8ff/4Au8decwRXPsAAAAAASUVORK5CYII="},"7ee6":function(t,e,s){"use strict";var a=s("2df3"),r=s.n(a);r.a},8594:function(t,e,s){"use strict";var a=s("c8fa"),r=s.n(a);r.a},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),i=s("e8b5"),n=s("861d"),o=s("7b0b"),c=s("50c4"),d=s("8418"),l=s("65f0"),v=s("1dde"),u=s("b622"),m=s("2d00"),g=u("isConcatSpreadable"),b=9007199254740991,f="Maximum allowed index exceeded",p=m>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),A=v("concat"),w=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},y=!p||!A;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,s,a,r,i,n=o(this),v=l(n,0),u=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?n:arguments[e],w(i)){if(r=c(i.length),u+r>b)throw TypeError(f);for(s=0;s<r;s++,u++)s in i&&d(v,u,i[s])}else{if(u>=b)throw TypeError(f);d(v,u++,i)}return v.length=u,v}})},c8fa:function(t,e,s){},d5b1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAABd1BMVEUAAAAAAAAAAABVVVVmZmZtbW1gYGBxcXFdXV1qampiYmJ2dnZtbW1mZmZgYGBwcHBpaWljY2NxcXFmZmZtbW1oaGhvb29qampmZmZsbGxtbW1ra2twcHBubm5ra2tvb29wcHBubm5tbW1wcHBtbW1wcHBvb29tbW1vb29ubm5ycnJsbGxxcXFwcHBubm5wcHBxcXFwcHBxcXFubm5ubm5vb29wcHBvb29vb29wcHBvb29vb29vb29vb29ubm5wcHBvb29vb29vb29ubm5vb29wcHBvb29ubm5wcHBwcHBvb29vb29vb29vb29wcHBubm5wcHBvb29vb29vb29wcHBvb29ubm5vb29vb29wcHBwcHBvb29vb29wcHBwcHBwcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBwcHBwcHBvb29vb29wcHBvb29wcHBwcHBvb29wcHBwcHBvb29wcHBhabGmAAAAfHRSTlMAAQIDBQcICQsMDQ0ODxAQERISFBUWFxgZGhwfIiUmJyksLzAxMjU2Nzo6Oz1AQUJGaW94eXp7gYOEhYeIiouLjI6RlpqbnJ2doKGjpqqtsLC3vb/AwcPDxcbJy8zP0tTV19nb3N3f4uPo6evs8vPz9Pb3+Pj6+vv8/P3+O+IQPgAAAZNJREFUWMPt2MdSAkEUheFBBZVRVEAUFVTMOeeIohINmDCLOWdhYObhhem2XLm7R4uqPg/w161vMXQhSWJiYmI5uLI2Vz6m3Lx9czkEKcsbWmYLhYijE9n0x7SZPt2q6Xvx0qete2kW95rI2+2HLP0+RW5icMe5yQy9Se0JN5mjN+k4wpk0nONM6uI4k05h8qvJ23gxzOR5AmByxk0myU0M3cc4k8YrnInrL0zGcCZPI0CTYSPM5HW0iN7kmrUfASb1FyrMpOcUZ+LJdZNBI8zk1kNv0vLA2gPk5cqgwn4te8nL6ym9rAZk4nJpkH1J1IMakEYqQl22rfGbI07icomf3azuV1Pf7E9yDfLyqgLWSMM0lDBKIx2uQmnEHDANR85oyEu8vEt9s9Wn/xWgJUN26nKE3xyivln28fKOXWj8aGyhNBIBK0ojQH2z+Vtjk/pmyyJKwxJOgjQKZvm3LlpB/Uhy3+vlz+Vy8pddF/vtXrHRP0cd2Se6EqW/WZLy+mPa3TyinHmiO/uaTJKYmJjYf+wLmpv4t3Rddy0AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-4c7e0f24.31d54c1e.js.map