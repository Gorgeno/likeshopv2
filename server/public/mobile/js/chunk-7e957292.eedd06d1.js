(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e957292"],{1149:function(t,s,e){t.exports=e.p+"img/pay_address.bca0ca89.png"},"16b7":function(t,s,e){"use strict";var a=e("5cc7"),i=e.n(a);i.a},"1c70":function(t,s,e){},"358a":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"confirm-order"},[a("div",{staticClass:"confirm-con"},[a("div",{staticClass:"address-wrap row contain",on:{click:t.onSelectAddress}},[a("img",{staticClass:"icon mr10",attrs:{src:e("1149")}}),a("div",{staticClass:"address"},[t.address.contact?a("div",[a("span",{staticClass:"name md mr10"},[t._v(t._s(t.address.contact))]),a("span",{staticClass:"phone md"},[t._v(t._s(t.address.telephone))]),a("div",{staticClass:"area sm mt10 lighter"},[t._v(" "+t._s(t.address.province)+" "+t._s(t.address.city)+" "+t._s(t.address.district)+" "+t._s(t.address.address)+" ")])]):a("div",{staticClass:"black md"},[t._v(" 设置收货地址 ")])]),a("img",{staticClass:"icon-sm ml10",attrs:{src:e("d5b1")}})]),a("div",{staticClass:"goods contain"},[a("order-goods",{attrs:{list:t.goodsLists}}),t._m(0),a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"textarea",rows:"1",autosize:{minHeight:30,maxHeight:80},label:"店铺留言",placeholder:"选填，请输入150字以内的文字留言"},model:{value:t.userRemark,callback:function(s){t.userRemark=s},expression:"userRemark"}})],1)],1),a("div",{staticClass:"price contain"},[a("div",{staticClass:"item row-between"},[a("div",[t._v("商品金额")]),a("div",[t._v("¥"+t._s(t.orderInfo.total_goods_price))])]),a("div",{staticClass:"item row-between"},[a("div",[t._v("运费")]),a("div",[t._v("¥"+t._s(t.orderInfo.shipping_price))])])]),a("div",{staticClass:"pay-way contain"},[a("div",{staticClass:"lighter title"},[t._v("支付方式")]),a("van-radio-group",{staticClass:"radio-group",attrs:{"checked-color":t.primaryColor},model:{value:t.payWay,callback:function(s){t.payWay=s},expression:"payWay"}},t._l(t.payWayArr,(function(s){return a("div",{key:s.type,staticClass:"item row-between",on:{click:function(e){t.payWay=s.type}}},[a("div",{staticClass:"row"},[a("img",{staticClass:"icon-lg mr10",attrs:{src:s.icon}}),a("div",{},[a("div",{staticClass:"balck bt10"},[t._v(t._s(s.name))]),a("div",{staticClass:"muted xs"},[t._v(" "+t._s(s.desc)+t._s(3==s.type?t.orderInfo.user_money:"")+" ")])])]),a("van-radio",{attrs:{name:s.type}})],1)})),0)],1)]),a("div",{staticClass:"footer bg-white row-between"},[a("div",{staticClass:"all-price lg row"},[a("span",[t._v("合计：")]),a("div",{staticClass:"primary row"},[t._v(" ￥ "),a("price-slice",{attrs:{price:t.orderInfo.order_amount}})],1)]),a("button",{staticClass:"btn br60 white",attrs:{size:"md","hover-class":"none"},on:{click:t.onSubmitOrder}},[t._v(" 提交订单 ")])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"item row-between"},[e("div",[t._v("配送方式")]),e("div",[t._v("快递")])])}],r=(e("ac1f"),e("5319"),e("96cf"),e("1da1")),c=(e("18a0"),e("73f5")),n=e("b562"),o=e("6a99"),d=e("399b"),l=e("2f9f"),v={name:"confirmOrder",components:{OrderGoods:o["a"]},data:function(){return{address:{},orderInfo:{},userRemark:"",goodsLists:[],addressId:"",popActive:0,payWay:1,payWayArr:[{icon:e("6f4f"),name:"微信支付",type:d["e"].wechat,desc:"微信快捷支付"},{icon:e("7dfe"),name:"余额支付",type:d["e"].balance,desc:"可用余额："}],useIntegral:0}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e=t.$route.query,a=e.goods,i=e.type,t.addressId=t.$ls.get("addressid"),t.$ls.remove("addressid"),a=JSON.parse(a)||[],t.confirmType=i||"",t.goods=a,t.$orderBuy();case 7:case"end":return s.stop()}}),s)})))()},mounted:function(){this.$ls.remove("addressid")},methods:{onSelectAddress:function(){this.$router.push({name:"userAddress",query:{type:1}})},onSubmitOrder:function(){this.toast=this.$toast({type:"loading",message:"请稍等...",duration:0}),this.$orderBuy("submit")},$orderBuy:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",e=this.address,a=this.userRemark,i=this.useIntegral,r={action:s,goods:this.goods,use_integral:i};"info"==s?this.addressId&&(r.address_id=this.addressId):"submit"==s&&(r.remark=a,r.address_id=e.id,r.type=this.confirmType,r.pay_way=this.payWay),Object(c["r"])(r).then((function(e){if(1!=e.code)return t.toast&&t.toast.clear(),!1;if("info"==s){var a=e.data,i=a.address,r=a.goods_lists;return t.address=i,t.goodsLists=r,t.orderInfo=e.data,t.addressId=i.id,!1}if("submit"==s){var c=e.data,o=c.order_id,d=c.type;return t.tradeId=o,t.type=d,Object(n["j"])({from:d,order_id:o})}})).then((function(s){if(t.toast&&t.toast.clear(),1==s.code){var e=s.data;Object(l["a"])(e).then((function(s){t.$router.replace({name:"payResult",query:{id:t.tradeId,type:t.type}})})).catch((function(){t.$router.replace({name:"userOrder"})}))}else 10001==s.code&&t.$router.replace({name:"payResult",query:{id:t.tradeId,type:t.type}})}))}}},m=v,u=(e("16b7"),e("2877")),b=Object(u["a"])(m,a,i,!1,null,"741c39f1",null);s["default"]=b.exports},"399b":function(t,s,e){"use strict";e.d(s,"d",(function(){return a})),e.d(s,"e",(function(){return i})),e.d(s,"b",(function(){return r})),e.d(s,"c",(function(){return c})),e.d(s,"a",(function(){return n}));var a={ALL:"all",PAY:"pay",DELIVERY:"delivery",FINISH:"finish",CLOSE:"close"},i={wechat:1,balance:3},r={REGISTER:"ZCYZ",FINDPWD:"ZHMM",LOGIN:"YZMDL",CHANGE_MOBILE:"YZMDL"},c={ALL:"all",RUNNING:"running",SUCCESS:"success",FAIL:"fail"},n={NORMAL:0,SUCCESS:1,FAIL:2}},"5cc7":function(t,s,e){},"6a99":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"order-goods bg-white"},t._l(t.list,(function(s){return e("div",{key:s.id,staticClass:"item-wrap",on:{click:function(e){t.link&&t.goPage("goodsDetail",{id:s.goods_id})}}},[e("div",{staticClass:"item row"},[e("div",{staticClass:"goods-img"},[e("van-image",{attrs:{width:"100%",radius:"5px",height:"100%",src:s.image_str||s.image}})],1),e("div",{staticClass:"goods-info ml10"},[e("div",{staticClass:"goods-name two-txt-cut mb5"},[t._v(" "+t._s(s.goods_name||s.name))]),e("div",{staticClass:"goods-spec xs muted mb10"},[t._v(t._s(s.spec_value_str))]),e("div",{staticClass:"row-between"},[e("div",{staticClass:"goods-price"},[e("div",{staticClass:"lg primary row"},[e("span",{staticClass:"sm"},[t._v("￥")]),e("div",{staticClass:"xl"},[e("price-slice",{attrs:{weight:500,price:s.goods_price}})],1)])]),e("div",{staticClass:"goods-num sm"},[t._v("x"+t._s(s.goods_num))])])])]),t.link&&s.comment_btn?e("div",{staticClass:"footer row"},[e("div",{staticStyle:{flex:"1"}}),s.comment_btn?e("div",{on:{click:function(e){return t.goPage("commodityEvaluation",{id:s.id})}}},[e("button",{staticClass:"plain br60",attrs:{size:"xs"}},[t._v("评价晒图")])]):t._e(),e("div",{staticClass:"ml10"},[e("button",{staticClass:"plain br60",attrs:{size:"xs"},on:{click:function(e){return t.goPage("applyAfterSales",{item_id:s.item_id,order_id:s.order_id})}}},[t._v("申请退款")])])]):t._e()])})),0)},i=[],r=(e("a9e3"),{name:"OrderGoods",components:{},props:{list:{type:Array,default:function(){return[]}},link:{type:Boolean,default:!1},shopId:{type:Number}},methods:{goPage:function(t,s){this.$router.push({name:t,query:s})}}}),c=r,n=(e("73c4"),e("2877")),o=Object(n["a"])(c,a,i,!1,null,"b8ee5e96",null),d=o.exports;s["a"]=d},"6f4f":function(t,s,e){t.exports=e.p+"img/pay_wechat.dfdad8a9.png"},"73c4":function(t,s,e){"use strict";var a=e("1c70"),i=e.n(a);i.a},"7dfe":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABPlBMVEUAAAD/gAD/mQD/qgD/nwD/lQD/nQD/kgD/mQD/lg//mQ3/kgz/mwv/lQv/mQr/lwn/kgn/lQn/lAj/kwj/lg3/lQv/lwr/lA7/lA3/lQ3/lw3/lAv/lw7/lQ7/lA//lw7/lw7/lQ3/lQ//lg//lg7/lQ7/lg3/lQ3/lg39lQ79lg79lQ79lg39lg/9lQ79lQ79lQ79lg79lQ79lg7+lg7+lQ7+lQ/+lg/+lQ/+lQ7+lg/+lQ/+lg/+lg7+lQ7+lg7+lg/+lg/+lg7+lQ7+lg7+lQ7+lg7+lQ7+lg/+lQ/+lg/+lQ/+lg/+lQ/+lQ/+lg7+lg7+lg7+lg7+lg7+lg/+nB7+oy3+qTz+sEr+sEv+t1r+vWn+xHj/y4f/0Zb/2KX/3rP/3rT/5cP/69H/7NL/8uD/8uH/+O//+fD///9R2wdKAAAAVHRSTlMABAUGCAwNDg8RFBUXGBkbHB0fIScwMTc5OjtDR0hWWF1jZ2hwcXJzdYCBgoaIjpCRoKGouLm8wMHDzs/Q1dfY4eLm6Onq6+zu7/Dx8vP29/n6/P6Ay5x6AAAB+klEQVRIx5VW2ULCMBCMCiqXeJ8o3oqKKBRQVOqFdxUlRRGKWkDg/3/AprTSJmkb5gE2YaaQ7LC7AOBwhXbjKV4Qsqn4bsgFHDC2mXyBBrxwG0EbuvcgDwk8R30WdPeOAKl4igzS+JNZaImzCZK/8AhtcDOP81ffoC3yy2b+GnTEmpE/9+oseDX8qtEcZEBuVOcPnkAmZPS8RyAjIh2+/4FVcD+sCmLdnZ+2gvL/8hMtZYMiqn6BwW3FlsJoivryV1m1ikZfBfAUVNAzJW0hGRfdZHCmnToidR4qNpWwbj4Fp9yp2dHvSPCthl8oLGEO6Qdh7CYknVZCQRW/qEUiCSI6aU0JZHRikUzFIb5V6lxtGb19Eqk4BGliDyWjWWworz9k7tKAJ/ZElIwGngINPKD4Qk2GggrFHQ+4QG6bIRMCvjcBTzm0JpOphk2DRG+ChNHcqjU+EGooeWr0jgliuDWczhAGQ2bzVWUElImWGmFmyrtxezucgbOoYZYC9AcaKbALCn6LKmMl6NSZoSvig7IkSWWSf631iXXWurSuVb6+Izb+cZ9eXH3nLPwLb7d8TzOU++epHhvKEtay8g4tawVvcrO3dvzLGbKNjmes+acBWqMe2Lqj0++2ByxmAc8+bXTY89gNJxuceThJbgadBhp1/MkKAk8ff/4Au8decwRXPsAAAAAASUVORK5CYII="},d5b1:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAABd1BMVEUAAAAAAAAAAABVVVVmZmZtbW1gYGBxcXFdXV1qampiYmJ2dnZtbW1mZmZgYGBwcHBpaWljY2NxcXFmZmZtbW1oaGhvb29qampmZmZsbGxtbW1ra2twcHBubm5ra2tvb29wcHBubm5tbW1wcHBtbW1wcHBvb29tbW1vb29ubm5ycnJsbGxxcXFwcHBubm5wcHBxcXFwcHBxcXFubm5ubm5vb29wcHBvb29vb29wcHBvb29vb29vb29vb29ubm5wcHBvb29vb29vb29ubm5vb29wcHBvb29ubm5wcHBwcHBvb29vb29vb29vb29wcHBubm5wcHBvb29vb29vb29wcHBvb29ubm5vb29vb29wcHBwcHBvb29vb29wcHBwcHBwcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBwcHBwcHBvb29vb29wcHBvb29wcHBwcHBvb29wcHBwcHBvb29wcHBhabGmAAAAfHRSTlMAAQIDBQcICQsMDQ0ODxAQERISFBUWFxgZGhwfIiUmJyksLzAxMjU2Nzo6Oz1AQUJGaW94eXp7gYOEhYeIiouLjI6RlpqbnJ2doKGjpqqtsLC3vb/AwcPDxcbJy8zP0tTV19nb3N3f4uPo6evs8vPz9Pb3+Pj6+vv8/P3+O+IQPgAAAZNJREFUWMPt2MdSAkEUheFBBZVRVEAUFVTMOeeIohINmDCLOWdhYObhhem2XLm7R4uqPg/w161vMXQhSWJiYmI5uLI2Vz6m3Lx9czkEKcsbWmYLhYijE9n0x7SZPt2q6Xvx0qete2kW95rI2+2HLP0+RW5icMe5yQy9Se0JN5mjN+k4wpk0nONM6uI4k05h8qvJ23gxzOR5AmByxk0myU0M3cc4k8YrnInrL0zGcCZPI0CTYSPM5HW0iN7kmrUfASb1FyrMpOcUZ+LJdZNBI8zk1kNv0vLA2gPk5cqgwn4te8nL6ym9rAZk4nJpkH1J1IMakEYqQl22rfGbI07icomf3azuV1Pf7E9yDfLyqgLWSMM0lDBKIx2uQmnEHDANR85oyEu8vEt9s9Wn/xWgJUN26nKE3xyivln28fKOXWj8aGyhNBIBK0ojQH2z+Vtjk/pmyyJKwxJOgjQKZvm3LlpB/Uhy3+vlz+Vy8pddF/vtXrHRP0cd2Se6EqW/WZLy+mPa3TyinHmiO/uaTJKYmJjYf+wLmpv4t3Rddy0AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-7e957292.eedd06d1.js.map