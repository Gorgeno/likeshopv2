(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-becdbf92"],{"1b31":function(e,t,n){},"32a2":function(e,t,n){e.exports=n.p+"img/shop_logo.6c42afc7.png"},"399b":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var s={ALL:"all",PAY:"pay",DELIVERY:"delivery",FINISH:"finish",CLOSE:"close"},i={wechat:1,balance:3},o={REGISTER:"ZCYZ",FINDPWD:"ZHMM",LOGIN:"YZMDL",CHANGE_MOBILE:"BGSJHM"},a={ALL:"all",RUNNING:"running",SUCCESS:"success",FAIL:"fail"},r={NORMAL:0,SUCCESS:1,FAIL:2}},"4f75":function(e,t,n){"use strict";var s=n("1b31"),i=n.n(s);i.a},dc3f:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[e._m(0),0==e.loginType?n("div",{staticClass:"login-input-container"},[n("div",{staticClass:"login-input-item row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone,expression:"telephone"}],attrs:{name:"mobile",placeholder:"请输入手机号码"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=t.target.value)}}})]),n("div",{staticClass:"row login-input-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"pwd",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("div",{staticClass:"line"}),n("div",{staticClass:"forget-pwd nr row",on:{click:function(t){return e.goPage("forgetPwd")}}},[n("span",[e._v(" 忘记密码 ")])])])]):e._e(),1==e.loginType?n("div",{staticClass:"login-input-container"},[n("div",{staticClass:"login-input-item row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone,expression:"telephone"}],attrs:{name:"mobile",placeholder:"请输入手机号码"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=t.target.value)}}})]),n("div",{staticClass:"row login-input-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.smsCode,expression:"smsCode"}],attrs:{name:"code",placeholder:"请输入验证码"},domProps:{value:e.smsCode},on:{input:function(t){t.target.composing||(e.smsCode=t.target.value)}}}),n("div",{staticClass:"btn primary sm row-center br60",on:{click:e.$sendSms}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.canSendSms,expression:"canSendSms"}]},[e._v("获取验证码")]),n("van-count-down",{directives:[{name:"show",rawName:"v-show",value:!e.canSendSms,expression:"!canSendSms"}],ref:"countDown",attrs:{"auto-start":!1,time:e.time,format:" ss 秒"},on:{finish:e.countDownFinish},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"seconds"},[e._v(e._s(t.seconds)+"秒")])]}}],null,!1,4246151370)})],1)])]):e._e(),n("button",{staticClass:"primary-btn row-center br60",staticStyle:{"margin-top":"40px"},attrs:{type:"submit"},on:{click:e.login}},[e._v(" 登录 ")]),n("div",{staticClass:"row-between",staticStyle:{"margin-top":"25px"}},[n("div",{staticClass:"lighter nr",on:{click:e.changeLoginType}},[e._v(" "+e._s(0==this.loginType?"短信验证码登录":"账号密码登录"))]),n("div",{staticClass:"lighter nr",on:{click:function(t){return e.goPage("register")}}},[e._v("注册账号")])]),n("div",{staticClass:"row-center"},[n("div",{staticClass:"server-explain row-center"},[e._v(" 登录即代表您已同意likeShop"),n("span",{staticClass:"primary",on:{click:function(t){return e.goPage("serverExplain",0)}}},[e._v("服务协议")]),e._v("和"),n("span",{staticClass:"primary",on:{click:function(t){return e.goPage("serverExplain",1)}}},[e._v("隐私协议")])])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-logo row-center"},[s("img",{attrs:{src:n("32a2")}})])}],o=(n("ac1f"),n("5319"),n("b562")),a=(n("5f01"),n("c24f")),r=n("399b"),c={ACCOUNT_LOGIN:0,SMS_CODE_LOGIN:1},l={name:"login",data:function(){return{loginType:0,telephone:"",password:"",smsCode:"",time:6e4,canSendSms:!0}},methods:{goPage:function(e,t){t?this.$router.push({name:e,query:{type:t}}):this.$router.push({name:e})},changeLoginType:function(){this.loginType==c.ACCOUNT_LOGIN?this.loginType=c.SMS_CODE_LOGIN:this.loginType==c.SMS_CODE_LOGIN&&(this.loginType=c.ACCOUNT_LOGIN)},login:function(){this.loginType==c.ACCOUNT_LOGIN?this.$pwdLogin():this.$smsCodeLogin()},$weichatLogin:function(){Object(o["d"])({url:window.location.href}).then((function(e){window.location.href=e.data.url}))},$pwdLogin:function(){var e=this,t=this.telephone,n=this.password;this.client;t?n?Object(o["k"])({account:t,password:n}).then((function(t){if(1==t.code){e.$store.commit("LOGIN",t.data);var n=e.$ls.get("back_path")||"/";e.$ls.remove("back_path"),e.$toast({message:"登录成功"}),e.$router.replace({path:n}),Object(a["u"])({code:e.$ls.get("INVITE_CODE")})}})):this.$toast({message:"请填写密码"}):this.$toast({message:"请填写手机号"})},$smsCodeLogin:function(){var e=this,t=this.telephone,n=this.smsCode;this.client;t?n?Object(o["n"])({account:t,code:n}).then((function(t){if(1==t.code){e.$store.commit("LOGIN",t.data);var n=e.$ls.get("back_path")||"/";e.$ls.remove("back_path"),e.$router.replace({path:n}),Object(a["u"])({code:e.$ls.get("INVITE_CODE")})}})):this.$toast({message:"请填写手机验证码"}):this.$toast({message:"请填写手机号"})},countDownFinish:function(){this.$refs.countDown.reset(),this.canSendSms=!0},$sendSms:function(){var e=this;0!=this.canSendSms&&(this.telephone?Object(o["m"])({mobile:this.telephone,key:r["b"].LOGIN}).then((function(t){1==t.code&&(e.canSendSms=!1,e.$refs.countDown.start(),e.$toast(t.msg))})):this.$toast("请填写手机号信息～"))}},created:function(){}},u=l,p=(n("4f75"),n("2877")),d=Object(p["a"])(u,s,i,!1,null,"4b484db6",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-becdbf92.6af29936.js.map